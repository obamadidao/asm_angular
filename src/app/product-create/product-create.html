<h2>Create Product</h2>

<form #form="ngForm" (ngSubmit)="handleSubmit(form)">
  <!-- Product Name -->
  <div class="mb-3">
    <label for="name" class="form-label">Product Name</label>
    <input
      type="text"
      id="name"
      name="name"
      class="form-control"
      [(ngModel)]="product.name"
      required
    />
  </div>

  <!-- Image Upload -->
  <div class="mb-3">
    <label for="image" class="form-label">Product Image</label>
    <input
      type="file"
      id="image"
      class="form-control"
      (change)="onImageSelected($event)"
      required
    />
    <div *ngIf="product.image" class="mt-2">
      <img
        [src]="product.image"
        alt="Preview"
        class="img-thumbnail"
        style="width: 150px; height: 150px; object-fit: cover;"
      />
    </div>
  </div>

  <!-- Price -->
  <div class="mb-3">
    <label for="price" class="form-label">Price</label>
    <input
      type="number"
      id="price"
      name="price"
      class="form-control"
      [(ngModel)]="product.price"
      required
    />
  </div>

  <!-- Category -->
  <div class="mb-3">
    <label for="categoryId" class="form-label">Category</label>
    <select
      id="categoryId"
      name="categoryId"
      class="form-select"
      [(ngModel)]="product.categoryId"
      required
    >
      <option [ngValue]="null" disabled selected>-- Chọn danh mục --</option>
      <option *ngFor="let c of categories" [ngValue]="c.id">{{ c.name }}</option>
    </select>
  </div>

  <!-- Brand -->
  <div class="mb-3">
    <label for="brandId" class="form-label">Brand</label>
    <select
      id="brandId"
      name="brandId"
      class="form-select"
      [(ngModel)]="product.brandId"
      required
    >
      <option [ngValue]="null" disabled selected>-- Chọn thương hiệu --</option>
      <option *ngFor="let b of brands" [ngValue]="b.id">{{ b.name }}</option>
    </select>
  </div>

  <!-- Nút Tạo sản phẩm -->
  <button type="submit" class="btn btn-primary" [disabled]="!form.valid">Tạo sản phẩm</button>
</form>
